---
layout: default
---

<ul class="post-list">

{%- assign pinned_posts = site.posts | where: "pinned", true -%}
{%- assign normal_all = site.posts | where_exp: "post", "post.pinned != true" -%}

<!-- ðŸ”¥ PINNED POST (ONLY FIRST PAGE, OUTSIDE PAGINATION) -->
{% if paginator.page == 1 %}
  {% for post in pinned_posts %}
    <li class="pinned-post" style="display:flex;align-items:center;margin-bottom:15px;">

      {% if post.thumbnail %}
        <img src="{{ post.thumbnail }}">
      {% endif %}

      <div style="display:flex; flex-direction:column; gap:4px;">

  <a href="{{ post.url | relative_url }}">
    <b>{{ post.title }}</b>
  </a>

  <div class="pin-label">ðŸ“Œ Pinned</div>

  <!-- date + views same line -->
  <div style="display:flex; justify-content:space-between; align-items:center; font-size:12px; color:#777;">
    <small style="color:#777; display:flex; justify-content:space-between;">
  <span>{{ post.date | date: "%b %d, %Y" }}</span>
  <span>
    <span data-goatcounter-hit="{{ post.url | relative_url }}"></span> views
  </span>
</small>
  </div>

      </div>

    </li>
  {% endfor %}
{% endif %}

<!-- ðŸ”¹ NORMAL POSTS (STRICT PAGINATION WITHOUT PINNED) -->
{% assign per_page = site.paginate %}
{% assign offset = per_page | times: paginator.page | minus: per_page %}
{% assign page_posts = normal_all | slice: offset, per_page %}

{% for post in page_posts %}
  <li style="display:flex;align-items:center;margin-bottom:15px;">

    {% if post.thumbnail %}
      <img src="{{ post.thumbnail }}">
    {% endif %}

    <div>
      <a href="{{ post.url | relative_url }}">
        <b>{{ post.title }}</b>
      </a><br>

      <small style="color:#777;">
        {{ post.date | date: "%b %d, %Y" }}
      </small>
    </div>

  </li>
{% endfor %}

</ul>

<!-- ðŸ”½ Pagination START -->
<div style="text-align:center;margin:30px 0;">

  {% if paginator.previous_page %}
    <a href="{{ paginator.previous_page_path | relative_url }}">Â« Prev</a>
  {% endif %}

  {%- assign pinned_count = pinned_posts | size -%}
  {%- assign normal_count = site.posts | size | minus: pinned_count -%}
  {%- assign total_pages = normal_count | divided_by: site.paginate -%}
  {%- if normal_count | modulo: site.paginate != 0 -%}
    {%- assign total_pages = total_pages | plus: 1 -%}
  {%- endif -%}

  {% for page in (1..total_pages) %}
    {% if page == paginator.page %}
      <strong style="margin:0 6px;">{{ page }}</strong>

    {% elsif page == 1 %}
      <a href="{{ site.baseurl }}/" style="margin:0 6px;">1</a>

    {% else %}
      <a href="{{ site.baseurl }}/page{{ page }}/" style="margin:0 6px;">
        {{ page }}
      </a>
    {% endif %}
  {% endfor %}

  {% if paginator.next_page %}
    <a href="{{ paginator.next_page_path | relative_url }}">Next Â»</a>
  {% endif %}

</div>
<!-- ðŸ”¼ Pagination END -->
